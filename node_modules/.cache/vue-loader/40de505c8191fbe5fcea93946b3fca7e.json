{"remainingRequest":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\src\\components\\aliyun.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\src\\components\\aliyun.vue","mtime":1568255505000},{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ossClient from '../assets/client.js';\nexport default {\n    name: 'Upload',\n    data () {\n        return {\n            images: [],\n            uploadConf: {\n                region: \"oss-cn-beijing.aliyuncs.com\",\n                accessKeyId: \"LTAIlbkoZl60gNWT\",\n                accessKeySecret: \"CbVR0tmpKXqAIEXxavJDqad3lcIIez\",\n                bucket: \"simplett-img\",\n                stsToken: \"112\"\n            }\n        };\n    },\n    methods: {\n\t\t/**\n\t\t * 初始化\n\t\t */\n        async init () {\n            //获取阿里云token  这里是后台返回来的数据\n            const aliyun = {\n                Region: \"oss-cn-beijing.aliyuncs.com\",\n                AccessKeyId: 'LTAIlbkoZl60gNWT',\n                AccessKeySecret: 'CbVR0tmpKXqAIEXxavJDqad3lcIIez',\n                Bucket: 'simplett-img',\n                SecurityToken: '112'\n            };\n            const {Region, AccessKeyId, AccessKeySecret, Bucket, SecurityToken} = aliyun && aliyun.data;\n            this.uploadConf.region = Region;\n            this.uploadConf.accessKeyId = AccessKeyId;\n            this.uploadConf.accessKeySecret = AccessKeySecret;\n            this.uploadConf.bucket = Bucket;\n            this.uploadConf.stsToken = SecurityToken;\n        },\n \n        /**\n         * 阿里云OSS上传\n         */\n        uploadHttp({ file }) {\n            const { imgName } = 'ALIOSS_IMG_';\n            const fileName = `${imgName}/${Date.parse(new Date())}`;  //定义唯一的文件名\n            ossClient(this.uploadConf).put(fileName, file, {\n                'ContentType': 'image/jpeg'\n            }).then(({res, url, name}) => {\n                if (res && res.status == 200) {\n                    console.log(`阿里云OSS上传图片成功回调`, res, url, name);\n                }\n            }).catch((err) => {\n                console.log(`阿里云OSS上传图片失败回调`, err);\n            });\n        },\n \n\t\t/**\n\t\t * 图片限制\n\t\t */\n        beforeAvatarUpload (file) {\n            const isJPEG = file.name.split('.')[1] === 'jpeg';\n            const isJPG = file.name.split('.')[1] === 'jpg';\n            const isPNG = file.name.split('.')[1] === 'png';\n            const isLt500K = file.size / 1024 / 500 < 2;\n            if (!isJPG && !isJPEG && !isPNG) {\n                this.$message.error('上传图片只能是 JPEG/JPG/PNG 格式!');\n            }\n            if (!isLt500K) {\n                this.$message.error('单张图片大小不能超过 500KB!');\n            }\n            return (isJPEG || isJPG || isPNG) && isLt500K;\n        },\n \n\t\t/**\n\t\t * 移除图片\n\t\t */\n        handleRemove (file, fileList) {\n            console.log(`移除图片回调`,file, fileList);\n        }\n    }\n};\n",{"version":3,"sources":["aliyun.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"aliyun.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <el-upload\n        class=\"upload\"\n        action=\"\"\n        :drag=\"true\"\n        :multiple=\"true\"\n        :file-list=\"images\"\n        :http-request=\"uploadHttp\"\n        :before-upload=\"beforeAvatarUpload\"\n        :on-remove=\"handleRemove\"\n        list-type=\"picture-card\">\n        <i class=\"el-icon-plus avatar-uploader-icon\">上传图片</i>\n        <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/jpeg/png文件，且不超过500kb</div>\n    </el-upload>\n</template>\n<script type=\"text/ecmascript-6\">\nimport ossClient from '../assets/client.js';\nexport default {\n    name: 'Upload',\n    data () {\n        return {\n            images: [],\n            uploadConf: {\n                region: \"oss-cn-beijing.aliyuncs.com\",\n                accessKeyId: \"LTAIlbkoZl60gNWT\",\n                accessKeySecret: \"CbVR0tmpKXqAIEXxavJDqad3lcIIez\",\n                bucket: \"simplett-img\",\n                stsToken: \"112\"\n            }\n        };\n    },\n    methods: {\n\t\t/**\n\t\t * 初始化\n\t\t */\n        async init () {\n            //获取阿里云token  这里是后台返回来的数据\n            const aliyun = {\n                Region: \"oss-cn-beijing.aliyuncs.com\",\n                AccessKeyId: 'LTAIlbkoZl60gNWT',\n                AccessKeySecret: 'CbVR0tmpKXqAIEXxavJDqad3lcIIez',\n                Bucket: 'simplett-img',\n                SecurityToken: '112'\n            };\n            const {Region, AccessKeyId, AccessKeySecret, Bucket, SecurityToken} = aliyun && aliyun.data;\n            this.uploadConf.region = Region;\n            this.uploadConf.accessKeyId = AccessKeyId;\n            this.uploadConf.accessKeySecret = AccessKeySecret;\n            this.uploadConf.bucket = Bucket;\n            this.uploadConf.stsToken = SecurityToken;\n        },\n \n        /**\n         * 阿里云OSS上传\n         */\n        uploadHttp({ file }) {\n            const { imgName } = 'ALIOSS_IMG_';\n            const fileName = `${imgName}/${Date.parse(new Date())}`;  //定义唯一的文件名\n            ossClient(this.uploadConf).put(fileName, file, {\n                'ContentType': 'image/jpeg'\n            }).then(({res, url, name}) => {\n                if (res && res.status == 200) {\n                    console.log(`阿里云OSS上传图片成功回调`, res, url, name);\n                }\n            }).catch((err) => {\n                console.log(`阿里云OSS上传图片失败回调`, err);\n            });\n        },\n \n\t\t/**\n\t\t * 图片限制\n\t\t */\n        beforeAvatarUpload (file) {\n            const isJPEG = file.name.split('.')[1] === 'jpeg';\n            const isJPG = file.name.split('.')[1] === 'jpg';\n            const isPNG = file.name.split('.')[1] === 'png';\n            const isLt500K = file.size / 1024 / 500 < 2;\n            if (!isJPG && !isJPEG && !isPNG) {\n                this.$message.error('上传图片只能是 JPEG/JPG/PNG 格式!');\n            }\n            if (!isLt500K) {\n                this.$message.error('单张图片大小不能超过 500KB!');\n            }\n            return (isJPEG || isJPG || isPNG) && isLt500K;\n        },\n \n\t\t/**\n\t\t * 移除图片\n\t\t */\n        handleRemove (file, fileList) {\n            console.log(`移除图片回调`,file, fileList);\n        }\n    }\n};\n</script>"]}]}