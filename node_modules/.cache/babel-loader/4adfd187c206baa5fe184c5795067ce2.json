{"remainingRequest":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\src\\components\\details\\detailsCenter.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\src\\components\\details\\detailsCenter.vue","mtime":1568255505000},{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\qwe\\Desktop\\lanzeyigou-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    detailsCenter: {\n      default: \"111\"\n    },\n    guarantee: {\n      default: \"111\"\n    }\n  },\n  data: function data() {\n    return {\n      con: \"收藏\",\n      flag: false,\n      //单位切换开关\n      shoucan: []\n    };\n  },\n  name: \"detailsCenter\",\n  methods: {\n    // guarantee(){\n    // \tif(detailsCenter.status==1)\n    // \t{\n    // \t\treturn true;\n    // \t}else if(detailsCenter.status==2)\n    // \t{\n    // \t\treturn false;\n    // \t}\n    // },\n    //点赞之后成功的提示\n    open3: function open3() {\n      this.$notify({\n        title: '成功',\n        message: '您已成功点赞',\n        type: 'success'\n      });\n    },\n    //点赞之后失败的提示\n    open4: function open4() {\n      this.$notify({\n        title: '失败',\n        message: '很抱歉，点赞失败',\n        type: 'warning'\n      });\n    },\n    open5: function open5() {\n      this.$notify.error({\n        title: '错误',\n        message: '请您先登录'\n      });\n    },\n    open6: function open6() {\n      this.$notify({\n        title: '失败',\n        message: '很抱歉，此商品正在被下单或者已经被购买，请您重新刷新数据',\n        type: 'warning'\n      });\n    },\n    // orderajax(orderlist) {\n    // \tvar xhr=new XMLHttpRequest;\n    // \t//4.绑定监听，获取响应\n    // \txhr.onreadystatechange=function (){\n    // \t\tif(xhr.readyState==4 && xhr.status==200){\n    // \t\t\tvar result=xhr.responseText;\n    // \t\t\tconsole.log(result);\n    // \t\t}\n    // \t}\n    // \t//2.打开连接，创建请求\n    // \txhr.open(\"get\",\"http://10.2.57.31:8080/alipay/index?orderlist=\"+orderlist,true);\n    // \t\n    // \t//3.发送请求\n    // \t//3.1设置请求头信息\n    // \t// xhr.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\n    // \t//创建请求主体\n    // \t// var formdata=\"orderlist=\"+orderlist;\n    // \txhr.send(null);\n    // },\n    //#############################################################################################################\n    //未完成\n    buy: function buy(pid) {\n      var _this = this;\n\n      var token = localStorage.getItem(\"token\");\n\n      if (token) {\n        this.axios.get(\"/Order\", {\n          params: {\n            pid: pid,\n            token: token\n          }\n        }).then(function (result) {\n          console.log(\"购买之后的数据\", result);\n\n          if (result.data.status == 1) {\n            // this.orderajax(result.data.orderlist)\n            window.location.href = 'http://10.2.57.31:8080/alipay/index?orderlist=' + result.data.orderlist;\n          } else if (result.data.status == 0) {\n            _this.open6();\n          }\n        });\n      } else {\n        this.open5();\n      }\n    },\n    collect: function collect(pid) {\n      var tokens = localStorage.getItem(\"userinfo\");\n\n      if (!tokens == \"\") {}\n    },\n    thumbsUp: function thumbsUp(pid) {\n      var _this2 = this;\n\n      var token = localStorage.getItem(\"token\");\n\n      if (token) {\n        this.axios.get(\"/Like\", {\n          params: {\n            pid: pid,\n            token: token\n          }\n        }).then(function (result) {\n          if (result.data.status == 1) {\n            _this2.open3();\n\n            document.getElementById(\"likes\").disabled = true;\n            _this2.detailsCenter.wcount++;\n          } else if (result.data.status == 0) {\n            _this2.open4();\n          }\n        });\n      } else {\n        this.open5();\n      }\n    },\n    enter: function enter(pid) {\n      var _this3 = this;\n\n      // this.flag = !this.flag;\n      if (this.flag == !true) {\n        var token = localStorage.getItem(\"token\");\n\n        if (token) {\n          this.axios.get(\"/Subscribe\", {\n            params: {\n              pid: pid,\n              token: token,\n              type: \"production\",\n              action: \"add\"\n            }\n          }).then(function (result) {\n            if (result.data.status == 1) {\n              _this3.open7();\n\n              _this3.con = \"已收藏\";\n\n              _this3.$store.commit(\"SAVE_SHOUCANLIST\", pid);\n\n              _this3.shoucan = localStorage.getItem(\"shoucanlist\").split(\",\");\n              document.getElementById(\"dian\").disabled = true;\n              _this3.flag = true;\n            } else if (result.data.status == 0) {\n              _this3.open8();\n            }\n          });\n        } else {\n          this.open9();\n        }\n      }\n    },\n    init: function init() {\n      var shoucan = localStorage.getItem(\"shoucan\");\n      console.log(\"#############################################################这是初始化的数据\", shoucan);\n\n      if (shoucan == undefined) {\n        this.shoucan[0] = \"-1\";\n      } else {\n        shoucan = JSON.parse(shoucan);\n        console.log(shoucan);\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = shoucan[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var item = _step.value;\n            this.shoucan.push(item.sp_pids);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        this.$store.commit(\"SAVE_SHOUCANLIST\", this.shoucan);\n        this.shoucan = localStorage.getItem(\"shoucanlist\").split(\",\");\n        console.log(this.shoucan);\n        console.log(\"初始化完成\");\n      }\n    },\n    arrincludes: function arrincludes() {\n      var bool = this.shoucan.indexOf(this.detailsCenter.pid) == -1 ? false : true;\n      this.flag = bool;\n      console.log(\"这是判断商品是否有被收藏\", this.flag);\n\n      if (this.flag) {\n        document.getElementById(\"dian\").disabled = true;\n        console.log(\"######################################################状态为\", this.flag);\n      }\n    },\n    //用户的关注\n    open7: function open7() {\n      this.$notify({\n        title: '成功',\n        message: '您已成功关注此商品',\n        type: 'success'\n      });\n      this.sengmsg = \"\";\n    },\n    open8: function open8() {\n      this.$notify({\n        title: '失败',\n        message: '很抱歉，系统错误，请稍后再试',\n        type: 'warning'\n      });\n    },\n    open9: function open9() {\n      this.$notify.error({\n        title: '错误',\n        message: '请您先登录'\n      });\n    }\n  },\n  created: function created() {\n    this.init();\n  },\n  mounted: function mounted() {\n    this.arrincludes();\n  }\n};",{"version":3,"sources":["detailsCenter.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"pro-detail\">\n\t\t<!-- 商品信息 -->\n\t\t<div class=\"info-text\">\n\t\t\t<div class=\"pname\">{{detailsCenter.pname}}</div>\n\t\t\t<br />\n\t\t\t<div class=\"x-price\">\n\t\t\t\t售&nbsp;价 :￥\n\t\t\t\t<b style=\"color:red;font-size:18px;\">{{detailsCenter.price}}</b>\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<div class=\"y-price\">来&nbsp;自 :蓝沢易购</div>\n\t\t</div>\n\t\t<hr style=\"margin:0\" />\n\t\t<!-- 商品发布地 -->\n\t\t<div class=\"pro-address\">\n\t\t\t<div class=\"address\">所在地 : 广东东莞</div>\n\t\t\t<br />\n\t\t\t<div>\n\t\t\t\t联系方式 :\n\t\t\t\t<a>\n\t\t\t\t\t<img src=\"../../../public/images/details/lianxi.png\" style=\"margin-left:10px;\" />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<div>\n\t\t\t\t交易方式 :\n\t\t\t\t<a>\n\t\t\t\t\t<img src=\"../../../public/images/details/pay.png\" style=\"margin-left:10px;\" />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<div v-if=\"guarantee\">\n\t\t\t\t蓝沢担保 :\n\t\t\t\t<a>\n\t\t\t\t\t<img src=\"../../../public/images/details/lzdb.png\" style=\"margin-left:10px;\" />\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t<div v-else>\n\t\t\t\t蓝沢担保 :\n\t\t\t\t<a>\n\t\t\t\t\t<img src=\"../../../public/images/details/lzdb-gray.png\" style=\"margin-left:10px;\" />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<button class=\"btn btn-danger1 buy-btn\" @click=\"buy(detailsCenter.pid)\">立即购买</button>\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<!-- <button class=\"share\" style=\"margin-right:20px;\" @click=\"collect(detailsCenter.pid)\">收藏(3)</button> -->\n\t\t\t<button @click=\"enter(detailsCenter.pid)\"  id=\"dian\" v-bind:class=\"{ 'you' : flag, 'you2': !flag}\">{{con}}</button> \n\t\t\t<button id=\"likes\" class=\"zan\" @click=\"thumbsUp(detailsCenter.pid)\">点赞({{detailsCenter.wcount}})</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tprops: {\n\t\t\tdetailsCenter: {\n\t\t\t\tdefault: \"111\"\n\t\t\t},\n\t\t\tguarantee: {\n\t\t\t\tdefault: \"111\"\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcon: \"收藏\",\n\t\t\t\tflag: false, //单位切换开关\n\t\t\t\tshoucan: []\n\t\t\t}\n\t\t},\n\t\tname: \"detailsCenter\",\n\t\tmethods: {\n\n\t\t\t// guarantee(){\n\t\t\t// \tif(detailsCenter.status==1)\n\t\t\t// \t{\n\t\t\t// \t\treturn true;\n\t\t\t// \t}else if(detailsCenter.status==2)\n\t\t\t// \t{\n\t\t\t// \t\treturn false;\n\t\t\t// \t}\n\t\t\t// },\n\t\t\t//点赞之后成功的提示\n\t\t\topen3() {\n\t\t\t\tthis.$notify({\n\t\t\t\t\ttitle: '成功',\n\t\t\t\t\tmessage: '您已成功点赞',\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t},\n\t\t\t//点赞之后失败的提示\n\t\t\topen4() {\n\t\t\t\tthis.$notify({\n\t\t\t\t\ttitle: '失败',\n\t\t\t\t\tmessage: '很抱歉，点赞失败',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t});\n\t\t\t},\n\t\t\topen5() {\n\t\t\t\tthis.$notify.error({\n\t\t\t\t\ttitle: '错误',\n\t\t\t\t\tmessage: '请您先登录'\n\t\t\t\t});\n\t\t\t},\n\t\t\topen6() {\n\t\t\t\tthis.$notify({\n\t\t\t\t\ttitle: '失败',\n\t\t\t\t\tmessage: '很抱歉，此商品正在被下单或者已经被购买，请您重新刷新数据',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t});\n\t\t\t},\n\t\t\t// orderajax(orderlist) {\n\t\t\t// \tvar xhr=new XMLHttpRequest;\n\t\t\t// \t//4.绑定监听，获取响应\n\t\t\t// \txhr.onreadystatechange=function (){\n\t\t\t// \t\tif(xhr.readyState==4 && xhr.status==200){\n\t\t\t// \t\t\tvar result=xhr.responseText;\n\t\t\t// \t\t\tconsole.log(result);\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// \t//2.打开连接，创建请求\n\t\t\t// \txhr.open(\"get\",\"http://10.2.57.31:8080/alipay/index?orderlist=\"+orderlist,true);\n\t\t\t// \t\n\t\t\t// \t//3.发送请求\n\t\t\t// \t//3.1设置请求头信息\n\t\t\t// \t// xhr.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\n\t\t\t// \t//创建请求主体\n\t\t\t// \t// var formdata=\"orderlist=\"+orderlist;\n\t\t\t// \txhr.send(null);\n\t\t\t// },\n\t\t\t//#############################################################################################################\n\t\t\t//未完成\n\t\t\tbuy(pid) {\n\t\t\t\tvar token = localStorage.getItem(\"token\");\n\t\t\t\tif (token) {\n\t\t\t\t\tthis.axios\n\t\t\t\t\t\t.get(\"/Order\", {\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tpid,\n\t\t\t\t\t\t\t\ttoken\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).then(result => {\n\t\t\t\t\t\t\tconsole.log(\"购买之后的数据\", result);\n\t\t\t\t\t\t\tif (result.data.status == 1) {\n\t\t\t\t\t\t\t\t// this.orderajax(result.data.orderlist)\n\t\t\t\t\t\t\t\twindow.location.href = 'http://10.2.57.31:8080/alipay/index?orderlist=' + result.data.orderlist;\n\t\t\t\t\t\t\t} else if (result.data.status == 0) {\n\t\t\t\t\t\t\t\tthis.open6();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.open5()\n\t\t\t\t}\n\t\t\t},\n\t\t\tcollect(pid) {\n\t\t\t\tvar tokens = localStorage.getItem(\"userinfo\");\n\t\t\t\tif (!tokens == \"\") {\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tthumbsUp(pid) {\n\t\t\t\tvar token = localStorage.getItem(\"token\")\n\t\t\t\tif (token) {\n\t\t\t\t\tthis.axios\n\t\t\t\t\t\t.get(\"/Like\", {\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tpid,\n\t\t\t\t\t\t\t\ttoken\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).then(result => {\n\t\t\t\t\t\t\tif (result.data.status == 1) {\n\t\t\t\t\t\t\t\tthis.open3();\n\t\t\t\t\t\t\t\tdocument.getElementById(\"likes\").disabled = true;\n\t\t\t\t\t\t\t\tthis.detailsCenter.wcount++;\n\t\t\t\t\t\t\t} else if (result.data.status == 0) {\n\t\t\t\t\t\t\t\tthis.open4()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.open5()\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tenter(pid) {\n\t\t\t\t// this.flag = !this.flag;\n\t\t\t\tif (this.flag == !true) {\n\t\t\t\t\tvar token = localStorage.getItem(\"token\")\n\t\t\t\t\tif (token) {\n\t\t\t\t\t\tthis.axios\n\t\t\t\t\t\t\t.get(\"/Subscribe\", {\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\tpid,\n\t\t\t\t\t\t\t\t\ttoken,\n\t\t\t\t\t\t\t\t\ttype: \"production\",\n\t\t\t\t\t\t\t\t\taction: \"add\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).then(result => {\n\t\t\t\t\t\t\t\tif (result.data.status == 1) {\n\t\t\t\t\t\t\t\t\tthis.open7();\n\t\t\t\t\t\t\t\t\tthis.con = \"已收藏\";\n\t\t\t\t\t\t\t\t\tthis.$store.commit(\"SAVE_SHOUCANLIST\", pid);\n\t\t\t\t\t\t\t\t\tthis.shoucan = localStorage.getItem(\"shoucanlist\").split(\",\");\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"dian\").disabled = true;\n\t\t\t\t\t\t\t\t\tthis.flag = true;\n\t\t\t\t\t\t\t\t} else if (result.data.status == 0) {\n\t\t\t\t\t\t\t\t\tthis.open8()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.open9()\n\t\t\t\t\t}\n\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tinit() {\n\t\t\t\tvar shoucan = localStorage.getItem(\"shoucan\");\n\t\t\t\tconsole.log(\"#############################################################这是初始化的数据\", shoucan);\n\t\t\t\tif (shoucan == undefined) {\n\t\t\t\t\tthis.shoucan[0] = \"-1\";\n\t\t\t\t} else {\n\t\t\t\t\tshoucan = JSON.parse(shoucan);\n\t\t\t\t\tconsole.log(shoucan);\n\t\t\t\t\tfor (var item of shoucan) {\n\t\t\t\t\t\tthis.shoucan.push(item.sp_pids);\n\n\t\t\t\t\t}\n\t\t\t\t\tthis.$store.commit(\"SAVE_SHOUCANLIST\", this.shoucan);\n\t\t\t\t\tthis.shoucan = (localStorage.getItem(\"shoucanlist\")).split(\",\");\n\t\t\t\t\tconsole.log(this.shoucan);\n\t\t\t\t\tconsole.log(\"初始化完成\")\n\t\t\t\t}\n\t\t\t},\n\t\t\tarrincludes() {\n\t\t\t\tvar bool = ((this.shoucan).indexOf(this.detailsCenter.pid)) == -1 ? false : true;\n\t\t\t\tthis.flag = bool;\n\t\t\t\tconsole.log(\"这是判断商品是否有被收藏\", this.flag)\n\t\t\t\tif (this.flag) {\n\t\t\t\t\tdocument.getElementById(\"dian\").disabled = true;\n\t\t\t\t\tconsole.log(\"######################################################状态为\", this.flag);\n\t\t\t\t}\n\t\t\t},\n\t\t\t//用户的关注\n\t\t\topen7() {\n\t\t\t\tthis.$notify({\n\t\t\t\t\ttitle: '成功',\n\t\t\t\t\tmessage: '您已成功关注此商品',\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t\tthis.sengmsg = \"\";\n\t\t\t},\n\t\t\topen8() {\n\t\t\t\tthis.$notify({\n\t\t\t\t\ttitle: '失败',\n\t\t\t\t\tmessage: '很抱歉，系统错误，请稍后再试',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t});\n\t\t\t},\n\t\t\topen9() {\n\t\t\t\tthis.$notify.error({\n\t\t\t\t\ttitle: '错误',\n\t\t\t\t\tmessage: '请您先登录'\n\t\t\t\t});\n\t\t\t},\n\n\t\t},\n\t\tcreated() {\n\t\t\tthis.init();\n\n\t\t},\n\t\tmounted() {\n\t\t\tthis.arrincludes();\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.you {\n\t\t/* width: 86px; */\n\t\theight: 31px;\n\t\tfont-size: 12px;\n\t\tline-height: 20px;\n\t\t/* margin-top: -20px; */\n\t\tpadding-left: 20px;\n\t\tpadding-right: 20px;\n\t\tcolor: #e31c1c !important;\n\t\tborder: 1px solid #e31c1c;\n\t\tborder-radius: 3px;\n\t\tcursor: pointer;\n\t\tbackground: #f1f1f1;\n\t\tmargin-right:34px;\n\t\tfont-size:16px;\n\t}\n\t\n\t.you2 {\n\t\t/* width: 80px; */\n\t\theight: 31px;\n\t\tfont-size: 12px;\n\t\tline-height: 20px;\n\t\t/* margin-top: -20px; */\n\t\tpadding-left: 20px;\n\t\tpadding-right: 20px;\n\t\tborder-radius: 3px;\n\t\tcolor: #333333;\n\t\t/* border: 1px solid #333333; */\n\t\tcursor: pointer;\n\t\tbackground: #f1f1f1;\n\t\tmargin-right:34px;\n\t\tfont-size:16px;\n\t}\n\t.pro-detail {\n\t\ttext-align: left;\n\t\twidth: 390px;\n\t\theight: 500px;\n\t\tpadding-left: 10px;\n\t\tbackground: #fff;\n\t\t/* border:1px solid red; */\n\t}\n\n\n\n\t.info-text {\n\t\twidth: 300px;\n\t\theight: 150px;\n\t\tfont-size: 16px;\n\t\tcolor: #333;\n\t\tpadding-left: 70px;\n\t}\n\n\t.pname,\n\t.address {\n\t\theight: 35px;\n\t\twidth: 230px;\n\t\tline-height: 35px;\n\t\tpadding-top: 10px;\n\t\toverflow: hidden;\n\t\t/*溢出隐藏*/\n\t\ttext-overflow: ellipsis;\n\t\t/*以省略号...显示*/\n\t\t-webkit-line-clamp: 1;\n\t\tword-break: break-all;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-box-orient: vertical;\n\n\n\t}\n\n\t.pro-address {\n\t\twidth: 300px;\n\t\theight: 328px;\n\t\tfont-size: 16px;\n\t\tcolor: #333;\n\t\tpadding-left: 70px;\n\t}\n\n\t/* 交易方式按钮样式 */\n\tbutton.ex-style {\n\t\twidth: 100px;\n\t\theight: 30px;\n\t\ttext-align: center;\n\t\tborder-radius: 3px;\n\t}\n\n\t/* 立即购买按钮样式 */\n\tbutton.buy-btn {\n\t\tcolor: #fff;\n\t\tfont-size: 20px;\n\t\twidth: 201px;\n\t\theight: 40px;\n\t\tborder: 0;\n\t\tmargin: 0px 30px 0px 0;\n\t}\n\n\t/* 赞和分享的按钮样式 */\n\tbutton.zan {\n\t\twidth: 95px;\n\t\theight: 30px;\n\t\tbackground: #f1f1f1;\n\t\tborder-radius: 3px;\n\t}\n\n\t.btn-danger1 {\n\t\tbackground: #dc3545 !important;\n\t}\n</style>\n"],"sourceRoot":"src/components/details"}]}