{"remainingRequest":"E:\\lanze\\lanzeyigou\\node_modules\\babel-loader\\lib\\index.js!E:\\lanze\\lanzeyigou\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\lanze\\lanzeyigou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\lanze\\lanzeyigou\\src\\components\\aliyun.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\lanze\\lanzeyigou\\src\\components\\aliyun.vue","mtime":1568615253129},{"path":"E:\\lanze\\lanzeyigou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568767580909},{"path":"E:\\lanze\\lanzeyigou\\node_modules\\babel-loader\\lib\\index.js","mtime":1568767579596},{"path":"E:\\lanze\\lanzeyigou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568767580909},{"path":"E:\\lanze\\lanzeyigou\\node_modules\\vue-loader\\lib\\index.js","mtime":1568767606597}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import {\n// \tToast\n// } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      // actionUrl: 'http://10.1.180.146:8080',\n      imageUrl: '',\n      //上传图片\n      imagesbase64: []\n    };\n  },\n  methods: {\n    getBase64: function getBase64(file) {\n      //把图片转成base64编码\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        var imgResult = \"\";\n        reader.readAsDataURL(file);\n\n        reader.onload = function () {\n          imgResult = reader.result;\n        };\n\n        reader.onerror = function (error) {\n          reject(error);\n        };\n\n        reader.onloadend = function () {\n          resolve(imgResult);\n        };\n      });\n    },\n    getFile: function getFile(file, fileList) {\n      var _this = this;\n\n      //上传头像\n      this.getBase64(file.raw).then(function (res) {\n        console.log(\"这是base64\", res);\n        var datas = res.split(\",\")[1];\n\n        _this.imagesbase64.push({\n          \"imagebase64\": datas\n        });\n\n        console.log(_this.imagesbase64);\n      });\n    },\n    getFile1: function getFile1() {\n      var _this2 = this;\n\n      var base64image = JSON.stringify(this.imagesbase64);\n      console.log(\"g=格式化后的数据\", base64image);\n      this.axios.get('/', {\n        params: {\n          \"img\": {\n            iamge: base64image\n          }\n        }\n      }).then(function (result) {\n        if (result.body.status === 200) {\n          _this2.imageUrl = result.body.data;\n        } else {\n          _this2.$notify({\n            title: '失败',\n            message: '很抱歉，上传失败',\n            type: 'warning'\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["aliyun.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,QAAA,EAAA,EAFA;AAEA;AACA,MAAA,YAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,IADA,EACA;AAAA;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,YAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,YAAA,SAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,aAAA,CAAA,IAAA;;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,YAAA;AACA,UAAA,SAAA,GAAA,MAAA,CAAA,MAAA;AACA,SAFA;;AAGA,QAAA,MAAA,CAAA,OAAA,GAAA,UAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA;AACA,SAFA;;AAGA,QAAA,MAAA,CAAA,SAAA,GAAA,YAAA;AACA,UAAA,OAAA,CAAA,SAAA,CAAA;AACA,SAFA;AAGA,OAbA,CAAA;AAcA,KAhBA;AAiBA,IAAA,OAjBA,mBAiBA,IAjBA,EAiBA,QAjBA,EAiBA;AAAA;;AAAA;AACA,WAAA,SAAA,CAAA,IAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,GAAA;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA;AAAA,yBAAA;AAAA,SAAA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,YAAA;AACA,OALA;AAMA,KAxBA;AAyBA,IAAA,QAzBA,sBAyBA;AAAA;;AACA,UAAA,WAAA,GAAA,IAAA,CAAA,SAAA,CAAA,KAAA,YAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,WAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AACA,QAAA,MAAA,EAAA;AACA,iBAAA;AAAA,YAAA,KAAA,EAAA;AAAA;AADA;AADA,OAAA,EAIA,IAJA,CAIA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,EAAA,IADA;AAEA,YAAA,OAAA,EAAA,UAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA;AAKA;AACA,OAdA;AAeA;AA3CA;AARA,CAAA","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-upload class=\"avatar-uploader\"  list-type=\"picture-card\" :show-file-list=\"false\" :on-change=\"getFile\">\r\n\t\t\t<img v-if=\"imageUrl\" ref=\"phoUrl\" :src=\"imageUrl\" class=\"avatar\">\r\n\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\r\n\t\t</el-upload><button @click=\"getFile1()\">在这里上传</button>\r\n\t</div>\r\n</template>\r\n<script>\r\n\t// import {\r\n\t// \tToast\r\n\t// } from \"mint-ui\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// actionUrl: 'http://10.1.180.146:8080',\r\n\t\t\t\timageUrl: '', //上传图片\r\n\t\t\t\timagesbase64:[]\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetBase64(file) { //把图片转成base64编码\r\n\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\t\tlet imgResult = \"\";\r\n\t\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\t\treader.onload = function() {\r\n\t\t\t\t\t\timgResult = reader.result;\r\n\t\t\t\t\t};\r\n\t\t\t\t\treader.onerror = function(error) {\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t};\r\n\t\t\t\t\treader.onloadend = function() {\r\n\t\t\t\t\t\tresolve(imgResult);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetFile(file, fileList) { //上传头像\r\n\t\t\t\tthis.getBase64(file.raw).then(res => {\r\n\t\t\t\t\tconsole.log(\"这是base64\", res);\r\n\t\t\t\t\tvar datas=res.split(\",\")[1]\r\n\t\t\t\t\tthis.imagesbase64.push({\"imagebase64\":datas})\r\n\t\t\t\t\tconsole.log(this.imagesbase64)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetFile1() {\r\n\t\t\t\tvar base64image=JSON.stringify(this.imagesbase64);\r\n\t\t\t\tconsole.log(\"g=格式化后的数据\",base64image)\r\n\t\t\t\tthis.axios.get('/', {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\"img\": {iamge:base64image}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\tif (result.body.status === 200) {\r\n\t\t\t\t\t\tthis.imageUrl = result.body.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\t\ttitle: '失败',\r\n\t\t\t\t\t\t\tmessage: '很抱歉，上传失败',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t}\r\n</script>\r\n<style>\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\twidth: 101px;\r\n\t\theight: 101px;\r\n\t}\r\n\r\n\t.avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #409EFF;\r\n\t}\r\n\r\n\t.avatar-uploader .el-upload .el-upload__input {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 100px;\r\n\t\theight: 100px;\r\n\t\tline-height: 100px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 100px;\r\n\t\theight: 100px;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components"}]}